webpackJsonp([5],{475:function(e,t,s){s(514);var a=s(185)(s(485),s(504),null,null);e.exports=a.exports},485:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{hostUrl:"http://localhost:8888/processmining",usersData:[],users:[]}},created:function(){this.getAllUsersList()},methods:{getUserLabel:function(e,t){return e+"("+t+")"},packData:function(e){for(var t=this,s=new Array,a=0;a<e.length;a++)console.log(e[a].activated),s.push({key:e[a].id,email:e[a].email,label:t.getUserLabel(e[a].nickname,e[a].email),disabled:!1});return s},handleChange:function(e,t,s){var a=this,r=this;if("right"===t){console.log("禁用",s);this.$axios({url:"/manager/banUser",method:"post",baseURL:this.hostUrl,data:{idList:s}}).then(function(e){200===e.data.code?r.$message({message:"用户禁用成功!",type:"success"}):console.log(e.data.code)}).catch(function(e){a.$message({message:"用户禁用失败: 请刷新页面!",type:"error"}),console.log("【Error】:",e)})}else{console.log("激活",s);this.$axios({url:"/manager/unbanUser",method:"post",baseURL:this.hostUrl,data:{idList:s}}).then(function(e){200===e.data.code?r.$message({message:"用户恢复成功!",type:"success"}):console.log(e.data.code)}).catch(function(e){a.$message({message:"用户激活失败: 请刷新页面!",type:"error"}),console.log("【Error】:",e)})}},deleteLeftUsers:function(){var e=this,t=this,s=t.$refs.aaa.leftChecked;this.$axios({url:"/manager/deleteUser",method:"post",baseURL:this.hostUrl,data:{idList:s}}).then(function(e){200===e.data.code?t.$message({message:"数据删除成功!",type:"success"}):console.log(e.data.code)}).catch(function(t){e.$message({message:"数据删除失败: 请重试!",type:"error"}),console.log("【Error】:",t)})},deleteRightUsers:function(){var e=this,t=this,s=t.$refs.aaa.rightChecked;this.$axios({url:"/manager/deleteUser",method:"post",baseURL:this.hostUrl,data:{idList:s}}).then(function(e){200===e.data.code?t.$message({message:"数据删除成功!",type:"success"}):console.log(e.data.code)}).catch(function(t){e.$message({message:"数据删除失败: 请重试!",type:"error"}),console.log("【Error】:",t)})},getAllUsersList:function(){var e=this,t=this;this.$axios({url:"/manager/listAllUsers",method:"get",baseURL:this.hostUrl}).then(function(e){var s=e.data.allUser;t.usersData=t.packData(s),t.users=e.data.bannedUserId,t.$message({message:"数据加载成功!",type:"success"})}).catch(function(t){e.$message({message:"数据加载失败: 请重试!",type:"error"}),console.log("【Error】:",t)})}}}},492:function(e,t,s){t=e.exports=s(82)(void 0),t.push([e.i,".transfer-footer{float:right;margin-right:20px;margin:6px 5px}.el-transfer-panel{width:400px;height:500px}.transferForm{padding-top:40px;padding-left:40px}",""])},504:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-edit"}),e._v(" 管理员")]),e._v(" "),s("el-breadcrumb-item",[e._v("用户管理")])],1)],1),e._v(" "),s("div",{staticClass:"transferForm"},[s("el-transfer",{ref:"aaa",attrs:{data:e.usersData,titles:["恢复用户列表","禁用用户列表"],"button-texts":["恢复","禁用"],"footer-format":{noChecked:"${total}个用户",hasChecked:"已选${checked} / ${total}个用户"}},on:{change:e.handleChange},model:{value:e.users,callback:function(t){e.users=t},expression:"users"}},[s("el-button",{staticClass:"transfer-footer",attrs:{plain:!0,type:"danger",icon:"delete",size:"mini"},on:{click:e.deleteLeftUsers},slot:"left-footer"},[e._v("\n        \t\t\t删除\n        \t\t")]),e._v(" "),s("el-button",{staticClass:"transfer-footer",attrs:{plain:!0,type:"danger",icon:"delete",size:"mini"},on:{click:e.deleteRightUsers},slot:"right-footer"},[e._v("\n        \t\t\t删除\n        \t\t")])],1)],1)])},staticRenderFns:[]}},514:function(e,t,s){var a=s(492);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(186)("a39ed4da",a,!0)}});